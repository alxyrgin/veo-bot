# Product Requirements Document: Telegram-бот для генерации видео с VEO 3

## Описание проекта
Создание Telegram-бота для генерации реалистичных видео с помощью Google VEO 3 API с системой оплаты российскими картами.

## Основные компоненты

### 1. Telegram Bot (Node.js)
- Приветственное сообщение и регистрация пользователей
- Обработка текстовых и голосовых сообщений для промптов
- Интеграция с VEO 3 API для генерации видео
- Система меню: создать видео, баланс, купить кредиты, реферальная программа
- Обработка платежей через Telegram Payments
- Реферальная система

### 2. Database (Supabase)
- Таблица users (telegram_id, username, credits, referrals)
- Таблица transactions (покупки, генерации, рефералы)
- Таблица video_generations (история генераций)

### 3. VEO 3 API Integration
- Интеграция с Google Cloud Vertex AI
- Два режима: Fast (5 сек, 2 кредита) и Premium (8 сек, 10 кредитов)
- Оптимизация промптов через OpenRouter API
- Ротация API ключей для экономии

### 4. Payment System
- Интеграция с Telegram Payments
- Тарифные планы: 5 кредитов (199₽), 15 кредитов (499₽), 35 кредитов (999₽), 75 кредитов (1999₽)
- Первая генерация бесплатная

### 5. Admin Dashboard (React)
- Аналитика пользователей и доходов
- Управление пользователями и их балансом
- История транзакций и платежей
- Настройки бота и API ключей

## Технические требования
- Node.js 18+
- Supabase для базы данных
- Google Cloud для VEO 3 API
- Telegram Bot API
- React для админ панели
- Деплой на VPS с PM2

## Приоритет разработки
1. Базовый функционал бота с простой генерацией
2. Система оплаты и кредитов
3. Реферальная программа
4. Админ панель
5. Оптимизация и улучшения 